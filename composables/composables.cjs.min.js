"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue");function t(t,u){return e.computed((()=>t||(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(u)))}exports.useFormInput=function(u,a){const r=e.ref();let o=null,l=!0;const n=t(u.id,"input"),d=(e,t,a=!1)=>(e=String(e),"function"!=typeof u.formatter||u.lazyFormatter&&!a?e:(l=!1,u.formatter(e,t))),i=e=>u.trim?e.trim():u.number?parseFloat(e):e,c=()=>{e.nextTick((()=>{u.autofocus&&r.value?.focus()}))};e.onMounted(c),e.onMounted((()=>{r.value&&(r.value.value=u.modelValue)})),e.onActivated(c);const v=e.computed((()=>u.ariaInvalid?u.ariaInvalid.toString():!1===u.state?"true":void 0));return e.watch((()=>u.modelValue),(e=>{r.value&&(r.value.value=o&&l?o:e,o=null,l=!0)})),{input:r,computedId:n,computedAriaInvalid:v,onInput:e=>{const{value:t}=e.target,r=d(t,e);if(!1===r||e.defaultPrevented)return void e.preventDefault();if(u.lazy)return;a("input",r);const l=i(r);u.modelValue!==l&&(o=t,a("update:modelValue",l))},onChange:e=>{const{value:t}=e.target,r=d(t,e);if(!1===r||e.defaultPrevented)return void e.preventDefault();if(!u.lazy)return;o=t,a("update:modelValue",r);const l=i(r);u.modelValue!==l&&a("change",r)},onBlur:e=>{if(a("blur",e),!u.lazy&&!u.lazyFormatter)return;const{value:t}=e.target,r=d(t,e,!0);o=t,a("update:modelValue",r)},focus:()=>{u.disabled||r.value?.focus()},blur:()=>{u.disabled||r.value?.blur()}}},exports.useId=t;
