"use strict";var e=require("vue");const t=/\..*/,o={mouseenter:"mouseover",mouseleave:"mouseout"},a=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function l(e,l,n){const s="string"==typeof l,r=s?n:l;let c=e.replace(t,"");const i=o[c];i&&(c=i);return a.indexOf(c)>-1||(c=e),[s,r,c]}const n=function(e,t,o,a){!function(e,t,o,a){if("string"!=typeof t||!e)return;o||(o=a,a=null);const[n,s,r]=l(t,o,a);e.addEventListener(r,s,n)}(e,t,o,a)};var s={name:"Collapse",props:{tag:{type:String,default:"div"},modelValue:Boolean,id:String,collapseClass:String,duration:{type:Number,default:300},sidenav:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:o}){const a=e.ref(null),s=e.computed((()=>[r.value,t.collapseClass,p.value?"navbar-collapse":"",v.value])),r=e.computed((()=>t.sidenav?"sidenav-collapse":m.value?"collapse":null)),c=e.inject("accordionState",null),i=e.inject("incrementAccordionItemsCount",!1),u=e.inject("setAccordionActiveItem",!1),d=e.ref(null);e.watchEffect((()=>{c&&c.active!==d.value&&o("update:modelValue",!1)}),{flush:"post"}),e.onMounted((()=>{m.value&&(a.value.style.height=a.value.scrollHeight+"px"),c&&(d.value=i(),m.value&&u(d.value))}));const m=e.ref(t.modelValue);e.watchEffect((()=>{m.value=t.modelValue,c&&null!==d.value&&m.value&&u(d.value)}));e.provide("openCollapse",(()=>{o("update:modelValue",!0)}));const p=e.inject("navbarFlexWrapValue",!1),v=e.computed((()=>!p||"wrap"===p.value&&m.value?"show":("nowrap"===p&&m.value,!1)));e.watch((()=>p.value),((e,a)=>{"nowrap"===e?m.value=!0:"wrap"===e&&((e,o)=>{"null"===o&&t.modelValue?m.value=!0:"null"!==o||t.modelValue?"nowrap"===o&&(m.value=!1):m.value=!1})(0,a),o("update:modelValue",m.value)}),{immediate:!0});const f=e.computed((()=>t.id?t.id:(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})("collapsibleContent-"))),h=e.ref(null),g=e.ref(!1),C=()=>[...document.getElementById(f.value).childNodes].filter((e=>""!=e.textContent.trim())).reduce(((e,t)=>e+w(t)),0),w=e=>{const t=e.offsetHeight;if(!t){if(document.createRange){const t=document.createRange();if(t.selectNodeContents(e),t.getBoundingClientRect){const e=t.getBoundingClientRect();if(e)return e.bottom-e.top}}return}const o=window.getComputedStyle(e);return["top","bottom"].map((e=>parseInt(o[`margin-${e}`]))).reduce(((e,t)=>e+t),t)},y=()=>{if(!m.value||g.value)return;g.value=!0;const e=window.innerWidth,t=C();a.value.style.height=`${t}px`,h.value=e,setTimeout((()=>{g.value=!1}),100)};return e.onMounted((()=>{h.value=window.innerWidth,n(window,"resize",y)})),e.onUnmounted((()=>{!function(e,t,o,a){if("string"!=typeof t||!e)return;const[n,s,r]=l(t,o,a);!function(e,t,o,a){e.removeEventListener(t,o,!!a)}(e,r,s,n?o:null)}(window,"resize",y)})),{collapse:a,className:s,isActive:m,uid:f,beforeEnter:e=>{e.style.height="0"},enter:e=>{e.style.height=`${C()}px`},afterEnter:e=>{e.classList.contains("show")||e.classList.add("show")},beforeLeave:e=>{e.style.height||(e.style.height=`${e.offsetHeight}px`)},leave:e=>{e.style.height="0"},afterLeave:e=>{e.classList.add("collapse")},props:t}}};s.render=function(t,o,a,l,n,s){return e.openBlock(),e.createBlock(e.Transition,{onBeforeEnter:l.beforeEnter,onEnter:l.enter,onAfterEnter:l.afterEnter,onBeforeLeave:l.beforeLeave,onLeave:l.leave,onAfterLeave:l.afterLeave,"enter-active-class":"collapsing","leave-active-class":"collapsing show",duration:a.duration},{default:e.withCtx((()=>[e.withDirectives((e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.tag),{class:e.normalizeClass(l.className),id:l.uid,ref:"collapse"},{default:e.withCtx((()=>[e.renderSlot(t.$slots,"default")])),_:3},8,["class","id"])),[[e.vShow,l.isActive]])])),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave","duration"])},s.__file="src/components/collapse/Collapse.vue";var r={name:"AccordionTab",components:{Collapse:s},props:{tag:{type:String,default:"div"},collapseId:{type:String,required:!0},headerTitle:String,headerClasses:String,bodyClasses:String,itemClasses:String},setup(t){const o=e.ref(null),a=e.computed((()=>["accordion-item",t.itemClasses])),l=e.computed((()=>["accordion-header",t.headerClasses])),n=e.computed((()=>["accordion-body",t.bodyClasses])),s=e.computed((()=>["accordion-button",!u.value&&"collapsed"])),r=e.inject("setActiveItem",null),c=e.inject("activeItem",null),i=e.inject("stayOpen",!1),u=e.ref(c.value===t.collapseId);e.watchEffect((()=>{i||(u.value=c.value===t.collapseId)}));return{itemRef:o,itemClassName:a,headerClassName:l,bodyClassName:n,buttonClassName:s,toggleAccordion:()=>{i?u.value=!u.value:u.value?r(""):r(t.collapseId)},isActive:u}}};const c=["aria-controls"];r.render=function(t,o,a,l,n,s){const r=e.resolveComponent("Collapse");return e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.tag),{class:e.normalizeClass(l.itemClassName),ref:"itemRef"},{default:e.withCtx((()=>[e.createElementVNode("h2",{class:e.normalizeClass(l.headerClassName)},[e.createElementVNode("button",{onClick:o[0]||(o[0]=()=>l.toggleAccordion(a.collapseId)),class:e.normalizeClass(l.buttonClassName),"aria-expanded":"true","aria-controls":a.collapseId},e.toDisplayString(a.headerTitle),11,c)],2),e.createVNode(r,{id:a.collapseId,modelValue:l.isActive,"onUpdate:modelValue":o[1]||(o[1]=e=>l.isActive=e)},{default:e.withCtx((()=>[e.createElementVNode("div",{class:e.normalizeClass(l.bodyClassName)},[e.renderSlot(t.$slots,"default")],2)])),_:3},8,["id","modelValue"])])),_:3},8,["class"])},r.__file="src/components/accordiontab/AccordionTab.vue",module.exports=r;
