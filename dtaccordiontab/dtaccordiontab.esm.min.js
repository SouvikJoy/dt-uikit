import{ref as e,computed as t,inject as a,watchEffect as l,onMounted as o,provide as n,watch as s,onUnmounted as r,openBlock as u,createBlock as i,Transition as c,withCtx as d,withDirectives as v,resolveDynamicComponent as p,normalizeClass as m,renderSlot as f,vShow as g,resolveComponent as h,createElementVNode as C,toDisplayString as y,createVNode as b}from"vue";const w=/\..*/,A={mouseenter:"mouseover",mouseleave:"mouseout"},L=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function E(e,t,a){const l="string"==typeof t,o=l?a:t;let n=e.replace(w,"");const s=A[n];s&&(n=s);return L.indexOf(n)>-1||(n=e),[l,o,n]}const I=function(e,t,a,l){!function(e,t,a,l){if("string"!=typeof t||!e)return;a||(a=l,l=null);const[o,n,s]=E(t,a,l);e.addEventListener(s,n,o)}(e,t,a,l)};var N={name:"DtCollapse",props:{tag:{type:String,default:"div"},modelValue:Boolean,id:String,collapseClass:String,duration:{type:Number,default:300},sidenav:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:i}){const c=e(null),d=t((()=>[v.value,u.collapseClass,C.value?"navbar-collapse":"",y.value])),v=t((()=>u.sidenav?"sidenav-collapse":h.value?"collapse":null)),p=a("accordionState",null),m=a("incrementAccordionItemsCount",!1),f=a("setAccordionActiveItem",!1),g=e(null);l((()=>{p&&p.active!==g.value&&i("update:modelValue",!1)}),{flush:"post"}),o((()=>{h.value&&(c.value.style.height=c.value.scrollHeight+"px"),p&&(g.value=m(),h.value&&f(g.value))}));const h=e(u.modelValue);l((()=>{h.value=u.modelValue,p&&null!==g.value&&h.value&&f(g.value)}));n("openCollapse",(()=>{i("update:modelValue",!0)}));const C=a("navbarFlexWrapValue",!1),y=t((()=>!C||"wrap"===C.value&&h.value?"show":("nowrap"===C&&h.value,!1)));s((()=>C.value),((e,t)=>{"nowrap"===e?h.value=!0:"wrap"===e&&((e,t)=>{"null"===t&&u.modelValue?h.value=!0:"null"!==t||u.modelValue?"nowrap"===t&&(h.value=!1):h.value=!1})(0,t),i("update:modelValue",h.value)}),{immediate:!0});const b=t((()=>u.id?u.id:(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})("collapsibleContent-"))),w=e(null),A=e(!1),L=()=>[...document.getElementById(b.value).childNodes].filter((e=>""!=e.textContent.trim())).reduce(((e,t)=>e+N(t)),0),N=e=>{const t=e.offsetHeight;if(!t){if(document.createRange){const t=document.createRange();if(t.selectNodeContents(e),t.getBoundingClientRect){const e=t.getBoundingClientRect();if(e)return e.bottom-e.top}}return}const a=window.getComputedStyle(e);return["top","bottom"].map((e=>parseInt(a[`margin-${e}`]))).reduce(((e,t)=>e+t),t)},V=()=>{if(!h.value||A.value)return;A.value=!0;const e=window.innerWidth,t=L();c.value.style.height=`${t}px`,w.value=e,setTimeout((()=>{A.value=!1}),100)};return o((()=>{w.value=window.innerWidth,I(window,"resize",V)})),r((()=>{!function(e,t,a,l){if("string"!=typeof t||!e)return;const[o,n,s]=E(t,a,l);!function(e,t,a,l){e.removeEventListener(t,a,!!l)}(e,s,n,o?a:null)}(window,"resize",V)})),{collapse:c,className:d,isActive:h,uid:b,beforeEnter:e=>{e.style.height="0"},enter:e=>{e.style.height=`${L()}px`},afterEnter:e=>{e.classList.contains("show")||e.classList.add("show")},beforeLeave:e=>{e.style.height||(e.style.height=`${e.offsetHeight}px`)},leave:e=>{e.style.height="0"},afterLeave:e=>{e.classList.add("collapse")},props:u}}};N.render=function(e,t,a,l,o,n){return u(),i(c,{onBeforeEnter:l.beforeEnter,onEnter:l.enter,onAfterEnter:l.afterEnter,onBeforeLeave:l.beforeLeave,onLeave:l.leave,onAfterLeave:l.afterLeave,"enter-active-class":"collapsing","leave-active-class":"collapsing show",duration:a.duration},{default:d((()=>[v((u(),i(p(a.tag),{class:m(l.className),id:l.uid,ref:"collapse"},{default:d((()=>[f(e.$slots,"default")])),_:3},8,["class","id"])),[[g,l.isActive]])])),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave","duration"])},N.__file="src/components/dtcollapse/DtCollapse.vue";var V={name:"DtAccordionTab",components:{DtCollapse:N},props:{tag:{type:String,default:"div"},collapseId:{type:String,required:!0},headerTitle:String,headerClasses:String,bodyClasses:String,itemClasses:String},setup(o){const n=e(null),s=t((()=>["accordion-item",o.itemClasses])),r=t((()=>["accordion-header",o.headerClasses])),u=t((()=>["accordion-body",o.bodyClasses])),i=t((()=>["accordion-button",!p.value&&"collapsed"])),c=a("setActiveItem",null),d=a("activeItem",null),v=a("stayOpen",!1),p=e(d.value===o.collapseId);l((()=>{v||(p.value=d.value===o.collapseId)}));return{itemRef:n,itemClassName:s,headerClassName:r,bodyClassName:u,buttonClassName:i,toggleAccordion:()=>{v?p.value=!p.value:p.value?c(""):c(o.collapseId)},isActive:p}}};const S=["aria-controls"];V.render=function(e,t,a,l,o,n){const s=h("DtCollapse");return u(),i(p(a.tag),{class:m(l.itemClassName),ref:"itemRef"},{default:d((()=>[C("h2",{class:m(l.headerClassName)},[C("button",{onClick:t[0]||(t[0]=()=>l.toggleAccordion(a.collapseId)),class:m(l.buttonClassName),"aria-expanded":"true","aria-controls":a.collapseId},y(a.headerTitle),11,S)],2),b(s,{id:a.collapseId,modelValue:l.isActive,"onUpdate:modelValue":t[1]||(t[1]=e=>l.isActive=e)},{default:d((()=>[C("div",{class:m(l.bodyClassName)},[f(e.$slots,"default")],2)])),_:3},8,["id","modelValue"])])),_:3},8,["class"])},V.__file="src/components/dtaccordiontab/DtAccordionTab.vue";export{V as default};
